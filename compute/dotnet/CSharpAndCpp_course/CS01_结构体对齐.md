# 结构体对齐

[TOC]

```cpp
/*
    //规则1：起始为0位，结构体每个数据成员存储位置要从自己的大小整数倍开始
    //规则2：子结构体中的第一个成员偏移量应该是子结构体的最大成员整数倍
    //规则3：结构体总大小是内部成员整数倍
*/   
struct Frame
{
    unsigned char id;    // 占用1--0
    int width;           // 占用4--4567 整数倍从4开始
    long long height;    // 占用8--89ABCDEF  正好从8开始
    unsigned char *data; // 占用4--0123  正好从16开始
}; 
// 全部分配后时指针到了20 ，但是20非long long 8的整数倍 ，因此向后扩展到24 ， 也就是说 Frame结构体占用 24位

#pragma pack(push)
#pragma pack(1) //采用1字节对齐  即为中间没有取倍数导致的空位
struct Info
{
    char username[10];
    double userdata; //
};
#pragma pack(pop)
```

